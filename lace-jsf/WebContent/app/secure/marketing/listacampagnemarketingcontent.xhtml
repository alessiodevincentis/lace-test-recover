<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
      
               <p:dataTable id="ultimeCampagneDataTable" value="#{listaCampagneMarketingView.campagnaViewModelLazyDataModel}"
                            var="campagna" rowKey="#{campagna.id}" style="margin-bottom:0" reflow="true"
                            tableStyle="text-align:center;" selection="#{listaCampagneMarketingView.campagnaViewModelSelected}"
                            rows="10" paginator="true" selectionMode="single"
                            paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                            rowsPerPageTemplate="5,10,15" lazy="true"
                            emptyMessage="Nessuna campagna effettuata">
                <p:ajax event="rowSelect" listener="#{listaCampagneMarketingView.onRowSelect}" />
                <p:column headerText="Nome Campagna">
                    <h:outputText value="#{campagna.name}"/>
                </p:column>
                <p:column headerText="Descrizione">
                    <h:outputText value="#{campagna.description}"/>
                </p:column>
                <p:column headerText="Data Creazione">
                    <h:outputText value="#{campagna.creationDateTime}">
                    <f:converter converterId="com.woonders.lacemsjsf.ui.converter.ItalianConvertLocalDateTime"/>
                    </h:outputText>
                </p:column>
               <p:column headerText="Data Invio">
                    <h:outputText value="#{campagna.sentDateTime}">
                     <f:converter converterId="com.woonders.lacemsjsf.ui.converter.ItalianConvertLocalDateTime"/>
                    </h:outputText>                   
                </p:column>
                <p:column headerText="Testo">
                    <h:outputText value="#{campagna.text}"/>
                </p:column>               
                <p:column headerText="Creata da">
                    <h:outputText value="#{campagna.creatorOperatorViewModel.username}"/>
                </p:column>  
                <p:column headerText="Spedita da">
                    <h:outputText value="#{campagna.senderOperatorViewModel.username}"/>
                </p:column>
                   <p:column headerText="Agenzia" rendered="#{aziendaSelectionView.aziendaColumnShown}">
                       <h:outputText value="#{campagna.senderOperatorViewModel.azienda.nomeAzienda}"/>
                   </p:column>
               </p:dataTable>
</html>